window.__require=function e(t,i,n){function r(a,o){if(!i[a]){if(!t[a]){var s=a.split("/");if(s=s[s.length-1],!t[s]){var c="function"==typeof __require&&__require;if(!o&&c)return c(s,!0);if(l)return l(s,!0);throw new Error("Cannot find module '"+a+"'")}}var h=i[a]={exports:{}};t[a][0].call(h.exports,function(e){return r(t[a][1][e]||e)},h,h.exports,e,t,i,n)}return i[a].exports}for(var l="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({ball:[function(e,t,i){"use strict";cc._RF.push(t,"8739c4XS29AnIt1zWn09waG","ball"),cc.Class({extends:cc.Component,properties:{ballAtlas:cc.SpriteAtlas},onLoad:function(){},randBall:function(e){var t=this.ballAtlas.getSpriteFrames();e>t.length&&(e=t.length);var i=parseInt(Math.random()*e);this.node.getComponent(cc.Sprite).spriteFrame=t[i],this.typeCnt=e},nextBall:function(){if(window.game.gameOver)setTimeout(function(){cc.director.loadScene("game")},1e3);else{var e=this.ballAtlas.getSpriteFrames(),t=this.node.getComponent(cc.Sprite),i=+t.spriteFrame.name+1;i>=this.typeCnt&&(i=0),t.spriteFrame=e[i],window.game.checkOver()}}}),cc._RF.pop()},{}],game:[function(e,t,i){"use strict";cc._RF.push(t,"1291e5pBS1Fp4mlD2LESRkd","game"),cc.Class({extends:cc.Component,properties:{ballFab:cc.Prefab,ctrlAreaNode:cc.Node,hintLabel:cc.Label},init:function(){window.game=this,this.gameOver=!1,this.ballNodeArr=[],this.level=1,this.initMap(this.level)},initMap:function(e){e>4&&(e=4),this.now=0,this.time=10;for(var t=4*e,i=1+1*e,n=0;n<t;n++){var r=null;this.ballNodeArr[n]?r=this.ballNodeArr[n]:(r=cc.instantiate(this.ballFab),this.ctrlAreaNode.addChild(r),this.ballNodeArr.push(r)),r.getComponent("ball").randBall(i)}},onLoad:function(){this.init()},checkOver:function(){for(var e=!0,t=null,i=0;i<this.ballNodeArr.length;i++){var n=this.ballNodeArr[i].getComponent(cc.Sprite).spriteFrame.name;if(0!=i){if(n!=t){e=!1;break}}else t=n}console.log("\u6e38\u620f\u662f\u5426\u7ed3\u675f",e),e&&this.levelUp()},levelUp:function(){this.level++,this.initMap(this.level)},update:function(e){this.now+=e;var t=parseInt(this.time-this.now);console.log("\u5269\u4f59\u65f6\u95f4",t),t<=0?(this.gameOver=!0,this.hintLabel.string="\u65f6\u95f4\u5230\uff0c\u6e38\u620f\u7ed3\u675f"):this.hintLabel.string="level\uff1a"+this.level+"\uff0ctime\uff1a"+t+"s"}}),cc._RF.pop()},{}]},{},["ball","game"]);